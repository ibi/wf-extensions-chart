!function(e){var t="undefined"!=typeof module;if(t&&($ib3={}),!t&&"function"!=typeof e.$ib3)throw"ERROaR: $ib3.utils. $ib3 is not a selector function";$ib3.utils={createScrolling:function(e,l,a,t){if(!(l.node()instanceof SVGElement))throw"$Ib3Utils createScrolling - parameter 0 must be svg Element";if(!(a.node()instanceof SVGElement))throw"$Ib3Utils createScrolling - parameter 1 must be svg Element";if(!(t.node()instanceof SVGElement))throw"$Ib3Utils createScrolling - parameter 2 must be svg Element";var o=$(e).height(),n=$(e).width();if(l.node().getBBox().height+l.node().getBBox().y>a.node().getBBox().height){var g=l.node().getBBox().height+l.node().getBBox().y-a.node().getBBox().height+10,r=l.attr("transform"),i=p(r),u=(i.x,i.y),s=t.append("g").attr("transform","translate("+(n-10)+", 0)"),d=d3.scaleLinear().domain([0,g]).range([0,a.node().getBBox().height-o/10]),c=d3.scaleLinear().domain([0,a.node().getBBox().height-o/10]).range([0,g]),f=s.append("rect").attr("fill","#d1d1d1").attr("width",10).attr("height",o/10).attr("y",0).call(d3.drag().on("drag",function(){h()}));function b(){var e=d3.event.wheelDeltaY,t=m(e);0<t&&(t=0),s.select("rect").attr("y",d(-t))}function h(e){var t=d3.event.dy*(e?-1:1),n=parseFloat(f.attr("y"))+t,r=!1,i=!1;n<0?(r=!0,t=n=0):n>a.node().getBBox().height-o/10&&(i=!0,n=a.node().getBBox().height-o/10,t=0),f.attr("y",n),m(-c(t),r,i)}function m(e,t,n){var r=l.attr("transform"),i=p(r),a=i.y+e,o=g;o<e&&(dy=o),o<-a||n?a=-o:(u<a||t)&&(a=u);var s="translate("+i.x+","+a+")";return l.attr("transform",r.replace(i.original,s)),a}function p(e){var t=e.indexOf("translate"),n=e.indexOf(")",t),r=e.substring(t,n+1),i=r.substring(10,r.length-1),a=i.split(",");if(2!=a.length&&(a=i.split(" ")),2!=a.length)throw"$Ib3Utils createScrolling - translate transform parse error";return a=$(a).map(function(e,t){return parseFloat(t)}).get(),{original:r,x:a[0],y:a[1]}}a.call(d3.drag().on("drag",function(e){h(!0)})),l.call(d3.drag().on("drag",function(e){h(!0)})),a.on("wheel",b),l.on("wheel",b)}},getVersion:function(){return n},getNumericAbbreviation:u,getShortenNumberByAbbreviation:d,setLoadingScreen:function(e,t){$loadingDiv=$(e).find(".loading-screen"),0==$loadingDiv.length&&($loadingDiv=$("<div>").addClass("loading-screen"),$(e).append($loadingDiv),$loadingDiv.append($('<span class="spinner"></span>')),$loadingDiv.append($('<span class="percentage">'+t+"%</span>")));$loadingDiv.find(".percentage").html(t+"%"),100<=t&&$loadingDiv.remove()},setShortenNumber:function(e,t,n,r,i,a,o){if(void 0!==r&&["T","B","M","K"].indexOf(r)<0)throw"$Ib3Utils setShortenNumber - Abbreviation must to be in (T, B, M, K)";if(e=Number(e),!1!==(r=r||!1))return l(e,t,n,r,i,a,o);var s=u(e,o);return l(e,t,n,s,i,a,o)},getFormattedNumber:function(e,t,n,r,i){{if(r){for(var a=u(t,i),o=d(t,a,i),s=n.split(";"),l=0;l<s.length;l++){var g=s[l].substring(s[l].length-1);"%"==g?s[l]=s[l].replace("%",a+g):"â‚¬"==g?s[l]=s[l].substring(0,s[l].length-2)+a+g:s[l]+=a}return e(o,s.join(";"))}return e(t,n)}},getWebFOCUSUriByResourcePath:function(e,t){var n="";e&&(e=e.trim(),t=t||"",t="/"==(t="undefined"==typeof WFInstallOption_CGIPath?t:WFInstallOption_CGIPath).trim().substring(t.length-1)?t:t+"/",n="IBFS"!=e.substring(0,4)?"http"==e.substring(0,4)||"data:"==e.substring(0,5)||"\\\\"==e.substring(0,2)?e:"/"==e.substring(0,1)?t+e.substring(1):t+e:t+"run.bip?BIP_REQUEST_TYPE=BIP_LAUNCH&BIP_folder="+e.substring(0,e.lastIndexOf("/"))+"&BIP_item="+e.substring(e.lastIndexOf("/")+1));return n},isEditing:function(){var e=!1;try{-1<window.location.href.indexOf("/ibi_apps/designer?")&&(e=!0)}catch(e){}return e},hideNativeHeading:function(){$("foreignObject.title").hide()},hideNativeFooting:function(){$("foreignObject.footnote").hide()}};var n="v1.1.0";function l(e,t,n,r,i,a,o){var s=d(e,r,o);Number.isInteger(t)&&(new RegExp("\\.\\d{"+(t+1)+",}$").test(""+s)&&(s=s.toFixed(t)));return!1!==n&&(s=Number(s).toFixed(n)),i&&a&&(a=a.split(".")[0],s=$ib3.utils.getFormattedNumber(i,s,a,!1,null)),s+r}function u(e,t){function n(e){return 1e12<=e?"T":1e9<=e?"B":1e6<=e?"M":1e3<=e?"K":""}if("NaN"==Number(e))throw"Utils getNumericAbbreviation: "+e+" is not a Number";var r,i=Math.abs(e);return t?"long scale"==t?n(i):"short scale"==t?1e12<=(r=i)?"B":1e6<=r?"M":1e3<=r?"K":"":n(i):n(i)}function d(e,t,n){function r(e,t){var n;switch(t){case"T":n=e/1e12;break;case"B":n=e/1e9;break;case"M":n=e/1e6;break;case"K":n=e/1e3;break;case"":n=e;break;default:n=e}return n}return n?"long scale"==n?r(e,t):"short scale"==n?function(e,t){var n;switch(t){case"B":n=e/1e12;break;case"M":n=e/1e6;break;case"K":n=e/1e3;break;case"":n=e;break;default:n=e}return n}(e,t):r(e,t):r(e,t)}Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t&&(module.exports=$ib3)}(window);