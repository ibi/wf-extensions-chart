!function(e){var t="undefined"!=typeof module;if(t&&($ib3={}),!t&&"function"!=typeof e.$ib3)throw"ERROaR: $ib3.utils. $ib3 is not a selector function";$ib3.utils={createScrolling:function(e,l,a,t){if(!(l.node()instanceof SVGElement))throw"$Ib3Utils createScrolling - parameter 0 must be svg Element";if(!(a.node()instanceof SVGElement))throw"$Ib3Utils createScrolling - parameter 1 must be svg Element";if(!(t.node()instanceof SVGElement))throw"$Ib3Utils createScrolling - parameter 2 must be svg Element";var o=$(e).height(),n=$(e).width();if(l.node().getBBox().height+l.node().getBBox().y>a.node().getBBox().height){var g=l.node().getBBox().height+l.node().getBBox().y-a.node().getBBox().height+10,r=l.attr("transform"),i=p(r),d=(i.x,i.y),s=t.append("g").attr("transform","translate("+(n-10)+", 0)"),u=d3.scaleLinear().domain([0,g]).range([0,a.node().getBBox().height-o/10]),c=d3.scaleLinear().domain([0,a.node().getBBox().height-o/10]).range([0,g]),b=s.append("rect").attr("fill","#d1d1d1").attr("width",10).attr("height",o/10).attr("y",0).call(d3.drag().on("drag",function(){h()}));function f(){var e=d3.event.wheelDeltaY,t=m(e);0<t&&(t=0),s.select("rect").attr("y",u(-t))}function h(e){var t=d3.event.dy*(e?-1:1),n=parseFloat(b.attr("y"))+t,r=!1,i=!1;n<0?(r=!0,t=n=0):n>a.node().getBBox().height-o/10&&(i=!0,n=a.node().getBBox().height-o/10,t=0),b.attr("y",n),m(-c(t),r,i)}function m(e,t,n){var r=l.attr("transform"),i=p(r),a=i.y+e,o=g;o<e&&(dy=o),o<-a||n?a=-o:(d<a||t)&&(a=d);var s="translate("+i.x+","+a+")";return l.attr("transform",r.replace(i.original,s)),a}function p(e){var t=e.indexOf("translate"),n=e.indexOf(")",t),r=e.substring(t,n+1),i=r.substring(10,r.length-1),a=i.split(",");if(2!=a.length&&(a=i.split(" ")),2!=a.length)throw"$Ib3Utils createScrolling - translate transform parse error";return a=$(a).map(function(e,t){return parseFloat(t)}).get(),{original:r,x:a[0],y:a[1]}}a.call(d3.drag().on("drag",function(e){h(!0)})),l.call(d3.drag().on("drag",function(e){h(!0)})),a.on("wheel",f),l.on("wheel",f)}},getVersion:function(){return n},getNumericAbbreviation:l,getShortenNumberByAbbreviation:g,setLoadingScreen:function(e,t){$loadingDiv=$(e).find(".loading-screen"),0==$loadingDiv.length&&($loadingDiv=$("<div>").addClass("loading-screen"),$(e).append($loadingDiv),$loadingDiv.append($('<span class="spinner"></span>')),$loadingDiv.append($('<span class="percentage">'+t+"%</span>")));$loadingDiv.find(".percentage").html(t+"%"),100<=t&&$loadingDiv.remove()},setShortenNumber:function(e,t,n,r,i,a){if(void 0!==r&&["T","B","M","K"].indexOf(r)<0)throw"$Ib3Utils setShortenNumber - Abbreviation must to be in (T, B, M, K)";if(e=Number(e),!1!==(r=r||!1))return s(e,t,n,r,i,a);var o=l(e);return s(e,t,n,o,i,a)},getFormattedNumber:function(e,t,n,r){{if(r){var i=l(t),a=g(t,i),o=n,s=o.substring(o.length-1);return"%"==s?o=o.replace("%",i+s):"â‚¬"==s?o=o.substring(0,o.length-2)+i+s:o+=i,e(a,o)}return e(t,n)}},getWebFOCUSUriByResourcePath:function(e,t){var n="";e&&(e=e.trim(),t=t||"",t="/"==(t="undefined"==typeof WFInstallOption_CGIPath?t:WFInstallOption_CGIPath).trim().substring(t.length-1)?t:t+"/",n="IBFS"!=e.substring(0,4)?"http"==e.substring(0,4)||"data:"==e.substring(0,5)||"\\\\"==e.substring(0,2)?e:"/"==e.substring(0,1)?t+e.substring(1):t+e:t+"run.bip?BIP_REQUEST_TYPE=BIP_RUN&BIP_folder="+e.substring(0,e.lastIndexOf("/"))+"&BIP_item="+e.substring(e.lastIndexOf("/")+1));return n}};var n="v1.1.0";function s(e,t,n,r,i,a){var o=g(e,r);Number.isInteger(t)&&(new RegExp("\\.\\d{"+(t+1)+",}$").test(""+o)&&(o=o.toFixed(t)));return!1!==n&&(o=Number(o).toFixed(n)),i&&a&&(a=a.split(".")[0],o=$ib3.utils.getFormattedNumber(i,o,a,!1)),o+r}function l(e){if("NaN"==Number(e))throw"Utils getNumericAbbreviation: "+e+" is not a Number";var t=Math.abs(e);return 1e12<=t?"T":1e9<=t?"B":1e6<=t?"M":1e3<=t?"K":""}function g(e,t){var n;switch(t){case"T":n=e/1e12;break;case"B":n=e/1e9;break;case"M":n=e/1e6;break;case"K":n=e/1e3;break;case"":n=e;break;default:n=e}return n}Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t&&(module.exports=$ib3)}(window);